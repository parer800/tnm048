<head>
	<link rel="stylesheet" href="css/condiment_font.css">

	<link rel="stylesheet" href="css/sp.css">
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/flaticon.css">
	<link rel="stylesheet" href="css/don_joule.css">
	<link rel="stylesheet" href="css/jquery-ui-1.10.4.custom.min.css">
	<link rel="stylesheet" href="css/tooltip.css">
	<link rel="stylesheet" href="css/selectionBox.css">
</head>

<body>
	<div id="menu" class="col-md-1">
		<div id="middle" class="row">
			<div id="header">
			<thead>
				<tr>
				<th><button class="world-btn header-component" data-toggle="modal" data-target=".countries-modal"><span class="flaticon-world7"></span>Select Countries</button></th>
				<th>

				<div id="logo" class="header-component"><span id="logo-glyph" class="flaticon-bolt1"></span><h1 id="header-title">Don Joule</h1>
					<b id="logo-description">- an energy visualization tool</b>
				</div>
					
				</th>
				<th>
					<div id="per-capita" class="header-component" data-bind="foreach: glyphs">
						<div class="glyph per-capita-glyph" data-bind="click: toggleActive, css : {'selected':isActive}">
							<div data-bind="attr:{'class': $data.str}"></div>
							<div class="class-name" data-bind="text:$data.glyphName" data-toggle="popover"></div>
						</div>
					</div>
				</th>

				</tr>
			</thead>
				
				
			</div>
			<div id="energy-sources">
				<div id="glyphs" data-bind="foreach: glyphs">
					<div class="glyph" data-bind="click: toggleActive, css : {'selected':isActive}">
						<div data-bind="attr:{'class': $data.str}"></div>
						<div class="class-name" data-bind="text:$data.glyphName" data-toggle="popover"></div>
					</div>
				</div>
			</div>

			<div id="slider" class="col-md-12">
				<div class ="col-md-12" data-bind="slider: { min: min, max: max }, sliderOptions: {min: min(), max: max(), step: 1}"></div>
				<div id="yearSpecifier" class="btn-group row" data-toggle="buttons">
					<label class="btn btn-primary"  data-bind="click : setLowerYear(min())">
						<input type="checkbox" ><span data-bind="text: 'Year - ' + min()"></span>
					</label>
					<label class="btn btn-primary"  data-bind="click : setUpperYear(max())">
						<input class = "pull-right" type="checkbox"><span data-bind="text: 'Year - ' + max()"></span>
					</label>
				</div>
			</div>
			<button type="button" class="close btn btn-default">Hide</button>
		</div>
	</div>



	<div id="container" class="col-md-1">
        <div id="row1" class="row">
            <div id="ld" class="col-md-6">
            	<div class="graph-title"><h2>Line diagram<h2></div>
            	<div id="ld-controls">
            		<select data-bind='options: GLOBAL_TYPES, optionsText:"type",value:type'></select>
            		<span data-bind='with:type'><select data-bind='options: subtypes, optionsText:"subtype", value:$parent.subtype'></select></span>
            	</div> 
            </div>
            <div id="sp" class="col-md-6">
            	<div class="graph-title"><h2>Scatter Plot<h2></div>
            	<div id="sp-controlsY">
            		<select data-bind='options: GLOBAL_TYPES, optionsText:"type",value:type'></select>
            		<span data-bind='with:type'><select data-bind='options: subtypes, optionsText:"subtype", value:$parent.subtype'></select></span>
            	</div>
            	<div id="sp-content"></div>
				<div id="sp-controlsX">
					<select data-bind='options: GLOBAL_TYPES, optionsText:"type",value:type'></select>
					<span data-bind='with:type'><select data-bind='options: subtypes, optionsText:"subtype", value:$parent.subtype'></select></span>
				</div>
            </div>

        </div>
        <div id="row2" class="row">
        	<div id="typePie" class="col-md-6">
        		<div class="graph-title"><h2>Shows total portion of chosen type<h2></div>
        		<div id="pie-type-controls">
        			<select data-bind='options: GLOBAL_TYPES, optionsText:"type",value:type'></select>
        		</div>
        	</div>
            <div id="subPie" class="col-md-6">
            	<div class="graph-title"><h2>Shows total portion of chosen subtype<h2></div>
        		<div id="pie-subtype-controls">
        			<select data-bind='options: GLOBAL_TYPES[0].subtypes, optionsText:"subtype",value:subtype'></select>
        		</div>            	
            </div>
            
        </div>
	</div>
	<div id="intro-box" class="row">
		
		<table class="table table-striped ">
			<tbody>
			<h2> Don Joule's information guide</h2>
				<tr>
					<td>
						1.
					</td>
					<td>
						<span class="flaticon-oil5"></span>
					</td>
					<td>
						- Select a data set to start the visualization.
					</td>
				</tr>
				<tr>
					<td>
						2.
					</td>
					<td>
						<span class="flaticon-world7"></span>
					</td>
					<td>
						- Select which country to visualize.
					</td>
				</tr>
				<tr>
					<td>
						3.
					</td>
					<td>
						<span class="flaticon-group44"></span>
					</td>
					<td>
						- Select whether if you want values divided by capita.
					</td>
				</tr>
				<tr>
					<td>
						4.
					</td>
					<td style="text-align: center;">
						<strong>(hint)</strong>
					</td>
					<td>
						- Use the slider to change the year span. If the year indicator is pressed it's year is selected (only one year is visualized). Press it again to return to the latter year state! 
					</td>
				</tr>
				<tr>
					<td>
						5.
					</td>
					<td style="text-align:center;">
						<button type="button" class="disabled btn btn-default">Hide<span class="glyphicon glyphicon-resize-small"></span></button>
					</td>
					<td>
						- Toggle the menu to hide and show visualization options.
					</td>
				</tr>				

			</tbody>
		</table>
	</div>


	<div id="countries">
		<div class="modal fade countries-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		  <div class="modal-dialog modal-lg" style="width:70%;">
		    <div class="modal-content row">
				<div class="modal-header">
					<h4 class="modal-title" id="myModalLabel">Select Countries</h4>
					<button type="button" class="btn btn-primary"><span data-bind="click: toggleActive, text:optionText"></span></button>
				</div>
				<div class="modal-body row">
					<div id="countries-list">

						<div class="checkboxList col-md-3" data-bind="template: { name: 'teamCheckboxListItem-first', foreach: countries.slice(0,countries().length / 4) }"></div>

						<div class="checkboxList col-md-3" data-bind="template: { name: 'teamCheckboxListItem-second', foreach: countries.slice(countries().length/4, countries().length / 2) }"></div>

						<div class="checkboxList col-md-3" data-bind="template: { name: 'teamCheckboxListItem-third', foreach: countries.slice(countries().length / 2, 3*countries().length / 4) }"></div>
						
						<div class="checkboxList col-md-3" data-bind="template: { name: 'teamCheckboxListItem-fourth', foreach: countries.slice(3*countries().length / 4) }"></div>

					<!-- First column of countries -->
						<script type="text/html" id="teamCheckboxListItem-first">
							<label>
								<input type="checkbox" data-bind="value: name, checked:$parent.selectedChoices " />
								<span data-bind="text: name"></span>
							</label>
							</br>			    	
						</script>
					<!-- Second column of countries -->
						<script type="text/html" id="teamCheckboxListItem-second">
							<label>
								<input type="checkbox" data-bind="value: name, checked:$parent.selectedChoices " />
								<span data-bind="text: name"></span>
							</label>
							</br>
						</script>
					<!-- Third column of countries -->
						<script type="text/html" id="teamCheckboxListItem-third">
							<label>
								<input type="checkbox" data-bind="value: name, checked:$parent.selectedChoices" />
								<span data-bind="text: name"></span>
							</label>
							</br>
						</script>					
					<!-- Fourth column of countries -->
						<script type="text/html" id="teamCheckboxListItem-fourth">
							<label>
								<input type="checkbox" data-bind="value: name, checked:$parent.selectedChoices " />
								<span data-bind="text: name"></span>
							</label>
							</br>
						</script>					
					</div>
				</div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		      </div>		      			    
		    </div>
		  </div>
		</div>	


	</div>

	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/jquery-ui-1.10.4.custom.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/knockout-3.0.0.js"></script>
	<script src="js/d3.min.js"></script>
	<script src="js/queue.v1.min.js"></script>
	<script src="js/dataHandler.js"></script>
	<script src="js/dataMining.js"></script>
	<script src="js/sp.js"></script>
	<script src="js/ld.js"></script>
	<script src="js/pie.js"></script>
	<script src="js/glyph.js"></script>
	<script src="js/slider.js"></script>
	<script src="js/countries.js"></script>
	<script src="js/observer.js"></script>
	<script src="js/main.js"></script> 
</body>

<!-- Code used to test drag and drop
	<div id="div1" style="width:350px; height:70px; border:1px solid #aaaaaa;"></div>

	<img id="drag1" src="hemta.jpg" draggable="true" ondragstart="drag(event)" width="350" height="70">

	<script>

		function allowDrop(ev)
		{
			ev.preventDefault();
		}

		function drag(ev)
		{
			//ev.dataTransfer.setData("Text",ev.target.id);
		}

		function drop(ev)
		{
			ev.preventDefault();
			observer.updateGraphs(["oil"]);
			//var data=ev.dataTransfer.getData("Text");
			//ev.target.appendChild(document.getElementById(data));
		}

		function test(){
			$(".x.axis").on("dragover", allowDrop);
			$(".x.axis").on("drop", drop);

			$("#div1").on("dragover", allowDrop);

			$("#div1").on("drop", drop);
		}
-->

